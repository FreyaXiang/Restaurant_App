(this.webpackJsonprestaurant=this.webpackJsonprestaurant||[]).push([[0],{134:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(8),c=a.n(o),i=a(81),s=Object(i.a)({palette:{primary:{main:"#900d0d"},secondary:{main:"#cf1b1b"}}}),l=a(171),u=a(16),m=a(76),d=a.n(m),p=a(77),g=a(168),b=a(167),f=a(164),E=a(34),x=a(79),h=a.n(x),v=a(136),y=a(172),O=a(173),N=Object(f.a)((function(e){return{paper:{backgroundColor:"white",borderRadius:25,margin:"50px auto",padding:20,width:"70%",display:"block"},text:{marginBottom:10},icon:{height:"40px",width:"40px"}}}));function j(e){var t=N(),a=Object(n.useState)({restaurantLocation:"Time Square, Manhattan, NYC",restaurantName:""}),o=Object(u.a)(a,2),c=o[0],i=o[1];var s=Object(n.useState)(["-73.985130","40.758896"]),l=Object(u.a)(s,2),m=l[0],d=l[1];function p(e){i((function(e){return Object(E.a)(Object(E.a)({},e),{},{restaurantLocation:"Current Location"})})),d([e.coords.longitude,e.coords.latitude])}function g(e){switch(e.code){case e.PERMISSION_DENIED:console.log("User denied the request for Geolocation.");break;case e.POSITION_UNAVAILABLE:console.log("Location information is unavailable.");break;case e.TIMEOUT:console.log("The request to get user location timed out.");break;case e.UNKNOWN_ERROR:console.log("An unknown error occurred.")}}return r.a.createElement(v.a,{elevation:3,className:t.paper},r.a.createElement(b.a,{container:!0,spacing:3,direction:"row"},r.a.createElement(b.a,{item:!0,xs:12,sm:5},r.a.createElement(y.a,{placeholder:"Time Square, Manhattan, NYC",fullWidth:!0,className:t.text,value:c.restaurantLocation,onClick:function(){navigator.geolocation?navigator.geolocation.getCurrentPosition(p,g):console.log("Geolocation is not supported by this browser.")},name:"restaurantLocation"})),r.a.createElement(b.a,{item:!0,xs:12,sm:5},r.a.createElement(y.a,{placeholder:"restaurant name...",rows:1,fullWidth:!0,className:t.text,value:c.restaurantName,onChange:function(e){var t=e.target,a=t.name,n=t.value;i((function(e){return Object(E.a)(Object(E.a)({},e),{},{[a]:n})}))},name:"restaurantName"})),r.a.createElement(b.a,{item:!0,xs:12,sm:2,container:!0,justify:"center",alignItems:"center"},r.a.createElement(O.a,{onClick:function(){e.search(m,c.restaurantName),e.setLocation(m)},variant:"contained",color:"secondary",className:t.icon},e.isLoading?r.a.createElement("div",{className:"loader"}):r.a.createElement(h.a,null)))))}var w=Object(f.a)((function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(2),margin:"20px 10px 0",height:"150px"}}}));function k(e){var t=w(),a=Object(n.useState)(!1),o=Object(u.a)(a,2),c=o[0],i=o[1],s=Object(n.useState)(!1),l=Object(u.a)(s,2),m=l[0],d=l[1];function p(){i(!0)}function f(){i(!1)}var E,x=e.rating.aggregate_rating;x<=.5?E="320px":x>.5&&x<=1?E="360px":x>1&&x<=1.5?E="340px":x>1.5&&x<=2?E="400px":x>2&&x<=2.5?E="380px":x>2.5&&x<=3?E="440px":x>3&&x<=3.5?E="420px":x>3.5&&x<=4?E="480px":x>4&&x<=4.5?E="460px":x>4.5&&x<=5&&(E="500px");var h={background:"url('https://s3-media0.fl.yelpcdn.com/assets/public/stars_v2.yji-52d3d7a328db670d4402843cbddeed89.png') 0 -"+E,display:"inline-block",verticalAlign:"middle",width:"108px",height:"20px",marginBottom:"8px"};return r.a.createElement("div",{className:t.root},r.a.createElement(v.a,{className:t.paper,elevation:c?8:1,onMouseOver:p,onMouseOut:f,style:{cursor:c&&"pointer",backgroundColor:c?"#f6f6f6":"white",borderTop:m&&"2px solid #cf1b1b",borderLeft:m&&"2px solid #cf1b1b"},onClick:function(){d(!m)}},r.a.createElement(b.a,{container:!0,spacing:2},r.a.createElement(b.a,{item:!0,xs:12,sm:!0,container:!0},r.a.createElement(b.a,{item:!0,xs:!0,container:!0,direction:"column",spacing:2},r.a.createElement(b.a,{item:!0,xs:!0},r.a.createElement(g.a,{gutterBottom:!0,onMouseOver:p,onMouseOut:f,style:{textDecoration:c&&"underline"}},e.id+". "+e.name),m&&r.a.createElement("div",{style:h}),m&&r.a.createElement(g.a,{variant:"body2",gutterBottom:!0,color:"textSecondary",style:{display:"inline",marginLeft:"10px"},gutterBottom:!0},e.reviews+" reviews"),r.a.createElement(g.a,{variant:"body2",gutterBottom:!0},e.currency.repeat(e.price)+" \xb7 "+e.cuisine),r.a.createElement(g.a,{variant:"body2",color:"textSecondary",gutterBottom:!0},e.address),m&&r.a.createElement(g.a,{variant:"body2",color:"textSecondary"},e.phone))),r.a.createElement(b.a,{item:!0},m&&r.a.createElement(g.a,{variant:"body2",color:"textSecondary"},e.distance+"m"))))))}var L=a(44);var S=function(e){var t={height:window.innerHeight*.95.toString(),width:"100%"},a="http://maps.google.com/mapfiles/kml/paddle/",n={lat:Number(e.userLocation[1]),lng:Number(e.userLocation[0])},o=[{name:"center",location:n,imgURL:a+"red-stars.png"}].concat(e.restaurants.map((function(e,t){return{name:e.restaurant.name,location:{lat:Number(e.restaurant.location.latitude),lng:Number(e.restaurant.location.longitude)},imgURL:a+(t+1).toString()+".png"}})));return r.a.createElement(L.b,{googleMapsApiKey:"AIzaSyAt5NuRkDNkH0xiPYjt050weIs3EK8rBUo"},r.a.createElement(L.a,{mapContainerStyle:t,zoom:13,center:n},o.map((function(e,t){return r.a.createElement(L.c,{key:t+1,position:e.location,icon:e.imgURL})}))))},C=Object(f.a)((function(e){return{title:{fontFamily:"'Ubuntu', sans-serif",textAlign:"center",margin:"15% auto 50px",width:"50%"},gridContainer:{backgroundColor:"#fff",padding:"30px 10px"}}}));function I(){var e=C(),t=Object(n.useState)([]),a=Object(u.a)(t,2),o=a[0],c=a[1],i=Object(n.useState)([]),s=Object(u.a)(i,2),l=s[0],m=s[1],f=Object(n.useState)(!1),E=Object(u.a)(f,2),x=E[0],h=E[1],v=Object(n.useState)(!1),y=Object(u.a)(v,2),O=y[0],N=y[1];return r.a.createElement("div",null,!O&&r.a.createElement(g.a,{variant:"h4",className:e.title},"Find Restaurants near you."),r.a.createElement(j,{search:function(e,t){var a="https://developers.zomato.com/api/v2.1/search?start=0&count=10"+(""===t?"":"&q="+t)+"&lat="+e[1]+"&lon="+e[0];h(!0),d()({method:"GET",url:a,headers:{"user-key":"a26ab6f479fab165848f3c41334dd07c","content-type":"application/json"}}).then((function(e){c(e.data.restaurants),h(!1),N(!0)})).catch((function(e){console.log(e)}))},setLocation:function(e){m(e)},isLoading:x}),O&&r.a.createElement(b.a,{container:!0,className:e.gridContainer},r.a.createElement(b.a,{item:!0,xs:12,sm:6,container:!0,justify:"center",alignItems:"center"},r.a.createElement(S,{userLocation:l,restaurants:o})),r.a.createElement(b.a,{item:!0,xs:12,sm:6,container:!0,justify:"center",alignItems:"center"},o.map((function(e,t){return r.a.createElement(b.a,{item:!0,xs:10,sm:6},r.a.createElement(k,{key:t,id:t+1,name:e.restaurant.name,cuisine:e.restaurant.cuisines,address:e.restaurant.location.address,price:e.restaurant.price_range,currency:e.restaurant.currency,rating:e.restaurant.user_rating,reviews:e.restaurant.all_reviews_count,phone:e.restaurant.phone_numbers,distance:Object(p.getDistance)({latitude:Number(e.restaurant.location.latitude),longitude:Number(e.restaurant.location.longitude)},{latitude:Number(l[1]),longitude:Number(l[0])})}))})))))}var R=a(169),A=a(170),B=a(80),U=a.n(B);function _(){return r.a.createElement(R.a,{position:"static",color:"secondary"},r.a.createElement(A.a,null,r.a.createElement(U.a,null),r.a.createElement(g.a,{variant:"h5",style:{color:"#fff",fontFamily:"'Ubuntu', sans-serif",marginLeft:"5px"}},"Restaurant App")))}var M=function(){return r.a.createElement(l.a,{theme:s},r.a.createElement(_,null),r.a.createElement(I,null))},T=document.getElementById("root");c.a.render(r.a.createElement(M,null),T)},87:function(e,t,a){e.exports=a(134)}},[[87,1,2]]]);
//# sourceMappingURL=main.21b18563.chunk.js.map